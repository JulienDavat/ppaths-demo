<div class="container-fluid p-4">

    <div class="row m-0 mb-3">
        <app-config-editor class="col-12 p-0"></app-config-editor>
    </div>

    <div class="row m-0 mb-3">
        <div class="col-12 col-xl-6 mb-2 mb-xl-0 p-0">
            <app-query-editor></app-query-editor>
        </div>
        <div class="p-0 col-12 col-xl-6 pl-xl-2 pr-xl-0">
            <div class="mb-2">
                <app-live-statistics></app-live-statistics>
            </div>
            <div class="mb-2">
                <app-waiting-queries></app-waiting-queries>
            </div>
            <div class="mb-2">
                <app-query-progress></app-query-progress>
            </div>
            <div class="row m-0 d-flex align-items-center">
                <button class="btn btn-outline-success col-2" [ngClass]="{'d-none': running}" 
                    [disabled]="serverEval.isBusy()" (click)="executeQuery()">
                    Execute
                </button>
                <button class="btn btn-outline-primary mr-2 col-2" [ngClass]="{'d-none': !running || frontierNodes.queue.length == 0}" 
                    [disabled]="serverEval.isBusy()" (click)="expandFrontierNode()">
                    Next
                </button>
                <button class="btn btn-outline-warning col-2" [ngClass]="{'d-none': !running}" 
                    (click)="stopQuery()">
                    Stop
                </button>
                <div class="form-check ml-4">
                    <input type="checkbox" class="form-check-input" [(ngModel)]="modeAutoOff" checked>
                    <label class="form-check-label">Step by step</label>
                </div>
            </div>
            
        </div>
    </div>

    <div class="row m-0">
        <div class="p-0 col-12">
            <router-outlet></router-outlet>
        </div>
    </div>
    
    <div class="row m-0 mb-3" *ngIf="solutionMappings.results.length > 0">
        <div class="p-0 col-12">
            <app-query-results></app-query-results>  
        </div>
    </div>
    
    <div class="row m-0">
        <div class="p-0 col-12">
            <app-statistics></app-statistics>
        </div>
    </div>

</div>